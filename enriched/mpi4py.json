{
  "name": "mpi4py",
  "summary": "Python bindings for MPI",
  "language": "python",
  "tags": [
    "math",
    "ui",
    "web"
  ],
  "chunks": [
    {
      "chunk_id": "mpi4py::chunk_0",
      "text": "==============\nMPI for Python\n==============\n\nThis package provides Python bindings for the *Message Passing\nInterface* (MPI_) standard. It is implemented on top of the MPI\nspecification and exposes an API which grounds on the standard MPI-2\nC++ bindings.\n\n.. _MPI: https://www.mpi-forum.org\n\nFeatures\n========\n\nThis package supports:\n\n* Convenient communication of any *picklable* Python object\n\n+ point-to-point (send & receive)\n  + collective (broadcast, scatter & gather, reductions)\n\n* Fast communication of Python object exposing the *Python buffer\n  interface* (NumPy arrays, builtin bytes/string/array objects)\n\n+ point-to-point (blocking/nonblocking/persistent send & receive)\n  + collective (broadcast, block/vector scatter & gather, reductions)\n\n* Process groups and communication domains\n\n+ creation of new intra/inter communicators\n  + creation/query of Cartesian & graph topologies\n\n* Parallel input/output:\n\n+ read & write\n  + blocking/nonblocking & collective/noncollective\n  + individual/shared file pointers & explicit offset\n\n* Dynamic process management\n\n+ spawn & spawn multiple\n  + accept/connect\n  + name publishing & lookup\n\n* One-sided operations\n\n+ remote memory access (put, get, accumulate)\n  + passive target synchronization (start/complete & post/wait)\n  + active target synchronization (lock & unlock)\n\nInstall\n=======\n\n**Wheel** packages\n------------------\n\nThe mpi4py project builds and publishes binary wheels able to run in a\nvariety of:\n\n* operating systems: *Linux*, *macOS*, *Windows*;\n* processor architectures: *AMD64*, *ARM64*;\n* MPI implementations: *MPICH*, *Open MPI*,\n  *MVAPICH*, *Intel MPI*, *HPE Cray MPICH*, *Microsoft MPI*;\n* Python implementations: *CPython*, *PyPy*.\n\n.. _MPICH:          https://mpich.org\n.. _Open MPI:       https://open-mpi.org\n.. _MVAPICH:        https://mvapich.cse.ohio-state.edu\n.. _HPE Cray MPICH: https://cpe.ext.hpe.com/docs/latest/mpt/mpich/\n.. _NVIDIA HPC-X:   https://developer.nvidia.com/networking/hpc-x\n.. _Intel MPI:      https://software.intel.com/intel-mpi-library\n.. _Microsoft MPI:  https://learn.microsoft.com/message-passing-interface/microsoft-mpi\n\nThese mpi4py wheels are distributed via the Python Package Index\n(`PyPI `_) and can be installed\nwith Python package managers like `pip`_:\n\n.. code:: sh\n\npython -m pip install mpi4py\n\n.. _pip:   https://pip.pypa.io\n\nThe mpi4py wheels can be installed in standard Python virtual\nenvironments. The MPI runtime can be provided by other wheels\ninstalled in the same virtual environment.\n\n.. tip::\n\nIntel publishes production-grade `Intel MPI wheels\n   `_ for Linux (x86_64) and Windows (AMD64).\n   mpi4py and MPI wheels can be installed side by side to get a\n   ready-to-use Python+MPI environment:\n\n.. code:: sh\n\n.. _impi-rt-wheels: https://pypi.org/project/impi-rt/#files\n\n.. tip::\n\nThe mpi4py project publishes `MPICH wheels `_ and\n   `Open MPI wheels `_ for Linux\n   (x86_64/aarch64) and macOS (arm64/x86_64).\n   mpi4py and MPI wheels can be installed side by side to get a\n   ready-to-use Python+MPI environment:\n\n.. code:: sh\n\n.. _mpich-wheels:   https://pypi.org/project/mpich/#files\n   .. _openmpi-wheels: https://pypi.org/project/openmpi/#files\n\n.. warning::\n\nThe mpi4py wheels can also be installed (with `pip`_) in `conda`_\nenvironments and they should work out of the box, without any special\ntweak to environment variables, for any of the MPI packages provided\nby `conda-forge`_.\n\nExternally-provided MPI implementations may come from a system package\nmanager, sysadmin-maintained builds accessible via module files, or\ncustomized user builds. Such usage is supported and encouraged.\nHowever, there are a few platform-specific considerations to take into\naccount.\n\nLinux\n^^^^^\n\nThe Linux (x86_64/aarch64) wheels require one of\n\n* `MPICH`_ or any other ABI-compatible derivative,\n  like `MVAPICH`_, `Intel MPI`_, `HPE Cray MPICH`_\n\n* `Open MPI`_ or any other ABI-compatible derivative,\n  like `NVIDIA HPC-X`_",
      "word_count": 500
    },
    {
      "chunk_id": "mpi4py::chunk_1",
      "text": "Users may need to set the ``LD_LIBRARY_PATH`` environment variable\nsuch that the dynamic linker is able to find at runtime the MPI shared\nlibrary file (``libmpi.so.*``).\n\nFedora/RHEL\n~~~~~~~~~~~\n\nOn Fedora/RHEL systems, both MPICH and Open MPI are available for\ninstallation. There is no default or preferred MPI implementation.\nInstead, users must select their favorite MPI implementation by\nloading the proper MPI module.\n\n.. code:: sh\n\nmodule load mpi/mpich-$(arch)    # for MPICH\n   module load mpi/openmpi-$(arch)  # for Open MPI\n\nAfter loading the requested MPI module, the ``LD_LIBRARY_PATH``\nenvironment variable should be properly setup.\n\nDebian/Ubuntu\n~~~~~~~~~~~~~\n\nOn Debian/Ubuntu systems, Open MPI is the default MPI implementation\nand most of the MPI-based applications and libraries provided by the\ndistribution depend on Open MPI. Nonetheless, MPICH is also\navailable to users for installation.\n\nIn Ubuntu 22.04 and older, due to legacy reasons, the MPICH ABI is\nslightly broken: the MPI shared library file is named\n``libmpich.so.12`` instead of ``libmpi.so.12`` as required by the\n`MPICH ABI Compatibility Initiative `_.\n\nUsers without ``sudo`` access can workaround this issue creating a\nsymbolic link anywhere in their home directory and appending to\n``LD_LIBRARY_PATH``.\n\n.. code:: sh\n\nmkdir -p ~/.local/lib\n   libdir=/usr/lib/$(arch)-linux-gnu\n   ln -s $libdir/libmpich.so.12 ~/.local/lib/libmpi.so.12\n   export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:~/.local/lib\n\nA system-wide fix for all users requires ``sudo`` access:\n\n.. code:: sh\n\nlibdir=/usr/lib/$(arch)-linux-gnu\n   sudo ln -sr $libdir/libmpi{ch,}.so.12\n\nHPE Cray OS\n~~~~~~~~~~~\n\nOn HPE Cray systems, users must load the ``cray-mpich-abi`` module.\nFor further details, refer to `man intro_mpi `_.\n\n.. _cray-mpt-mpichabi: https://cpe.ext.hpe.com/docs/latest/mpt/mpich/intro_mpi.html#using-mpich-abi-compatibility\n\nmacOS\n^^^^^\n\nThe macOS (arm64/x86_64) wheels require\n\n* `MPICH`_ or `Open MPI`_ installed (either manually or via a package\n  manager) in the standard system prefix ``/usr/local``\n\n* `MPICH`_ or `Open MPI`_ installed via `Homebrew`_ in the default\n  prefix ``/opt/homebrew``\n\n* `MPICH`_ or `Open MPI`_ installed via `MacPorts`_ in the default\n  prefix ``/opt/local``\n\n.. _Homebrew: https://brew.sh/\n.. _MacPorts: https://www.macports.org/\n\nWindows\n^^^^^^^\n\nThe Windows (AMD64) wheels require one of\n\n* `Intel MPI`_\n\n* `Microsoft MPI`_\n\nUser may need to set the ``I_MPI_ROOT`` or ``MSMPI_BIN`` environment\nvariables such that the MPI dynamic link library (DLL) (``impi.dll``\nor ``msmpi.dll``) can be found at runtime.\n\nIntel MPI is under active development and supports recent versions of\nthe MPI standard. Intel MPI can be installed with ``pip`` (see the\n`impi-rt`_ package on PyPI), being therefore straightforward to get it\nup and running within a Python environment. Intel MPI can also be\ninstalled system-wide as part of the Intel oneAPI HPC Toolkit for\nWindows or via standalone online/offline installers.\n\n.. _impi-rt: https://pypi.org/project/impi-rt/\n\n**Conda** packages\n------------------\n\nThe `conda-forge`_ community provides ready-to-use binary packages\nfrom an ever growing collection of software libraries built around the\nmulti-platform *conda* package manager. Four MPI implementations are\navailable on conda-forge: Open MPI (Linux and macOS), MPICH (Linux and\nmacOS), Intel MPI (Linux and Windows), and Microsoft MPI (Windows).\nYou can install mpi4py and your preferred MPI implementation using the\n`conda`_ package manager:\n\n* to use MPICH do:\n\n.. code:: sh\n\n* to use Open MPI do:\n\n.. code:: sh\n\n* to use Intel MPI do:\n\n.. code:: sh",
      "word_count": 495
    },
    {
      "chunk_id": "mpi4py::chunk_2",
      "text": "* to use Microsoft MPI do:\n\n.. code:: sh\n\nMPICH and many of its derivatives are ABI-compatible. You can provide\nthe package specification ``mpich=X.Y.*=external_*`` (where ``X`` and\n``Y`` are the major and minor version numbers) to request the conda\npackage manager to use system-provided MPICH (or derivative)\nlibraries. Similarly, you can provide the package specification\n``openmpi=X.Y.*=external_*`` to use system-provided Open MPI\nlibraries.\n\nThe ``openmpi`` package on conda-forge has built-in CUDA support, but\nit is disabled by default. To enable it, follow the instruction\noutlined during ``conda install``. Additionally, UCX support is also\navailable once the ``ucx`` package is installed.\n\n.. warning::\n\nThe MPI conda-forge packages are built with special focus on\n   compatibility. The MPICH and Open MPI packages are built in a\n   constrained environment with relatively dated OS images. Therefore,\n   they may lack support for high-performance features like\n   cross-memory attach (XPMEM/CMA). In production scenarios, it is\n   recommended to use external (either custom-built or system-provided)\n   MPI installations. See the relevant conda-forge documentation about\n   `using external MPI libraries `_ .\n\n.. _conda: https://docs.conda.io\n.. _conda-forge: https://conda-forge.org/\n.. _cf-mpi-docs: https://conda-forge.org/docs/user/tipsandtricks/#using-external-message-passing-interface-mpi-libraries\n\nSystem packages\n---------------\n\nmpi4py is readily available through system package managers of most\nLinux distributions and the most popular community package managers\nfor macOS.\n\n.. _sys-pkg-linux:\n\nLinux\n^^^^^\n\nOn **Fedora Linux** systems (as well as **RHEL** and their derivatives\nusing the EPEL software repository), you can install binary packages\nwith the system package manager:\n\n* using ``dnf`` and the ``mpich`` package:\n\n.. code:: sh\n\n* using ``dnf`` and the ``openmpi`` package:\n\n.. code:: sh\n\nPlease remember to load the correct MPI module for your chosen MPI\nimplementation:\n\n* for the ``mpich`` package do:\n\n.. code:: sh\n\n* for the ``openmpi`` package do:\n\n.. code:: sh\n\nOn **Ubuntu Linux** and **Debian Linux** systems, binary packages are\navailable for installation using the system package manager:\n\n.. code:: sh\n\nsudo apt install python3-mpi4py\n\nOn **Arch Linux** systems, binary packages are available for\ninstallation using the system package manager:\n\n.. code:: sh\n\nsudo pacman -S python-mpi4py\n\n.. _sys-pkg-macos:\n\nmacOS\n^^^^^\n\nmacOS users can install mpi4py using the `Homebrew`_ package\nmanager:\n\n.. code:: sh\n\nNote that the Homebrew mpi4py package uses Open MPI. Alternatively,\ninstall the ``mpich`` package and next install mpi4py from sources\nusing ``pip``.\n\nAlternatively, mpi4py can be installed from `MacPorts`_:\n\n.. code:: sh\n\nsudo port install py-mpi4py\n\nBuilding from sources\n---------------------\n\nInstalling mpi4py from pre-built binary wheels, conda packages, or\nsystem packages is not always desired or appropriate. For example, the\nmpi4py wheels published on PyPI may not be interoperable with\nnon-mainstream, vendor-specific MPI implementations; or a system\nmpi4py package may be built with a alternative, non-default MPI\nimplementation. In such scenarios, mpi4py can still be installed from\nits source distribution (sdist) using ``pip``:\n\n.. code:: sh\n\npython -m pip install --no-binary=mpi4py mpi4py\n\nYou can also install the in-development version with:\n\n.. code:: sh\n\npython -m pip install git+https://github.com/mpi4py/mpi4py\n\nor:\n\n.. code:: sh\n\npython -m pip install https://github.com/mpi4py/mpi4py/tarball/master\n\n.. note::",
      "word_count": 485
    },
    {
      "chunk_id": "mpi4py::chunk_3",
      "text": "Installing mpi4py from its source distribution (available on PyPI)\n   or Git source code repository (available on GitHub) requires a C\n   compiler and a working MPI implementation with development headers\n   and libraries.\n\n.. warning::\n\n``pip`` keeps previously built wheel files in its cache for future\n   reuse. If you want to reinstall the ``mpi4py`` package from its source\n   distribution using a different or updated MPI implementation, you have\n   to either first remove the cached wheel file:\n\n.. code:: sh\n\nor ask ``pip`` to disable the cache:\n\n.. code:: sh\n\nCitation\n========\n\nIf MPI for Python been significant to a project that leads to an\nacademic publication, please acknowledge that fact by citing the\nproject.\n\n* M. Rogowski, S. Aseeri, D. Keyes, and L. Dalcin,\n  *mpi4py.futures: MPI-Based Asynchronous Task Execution for Python*,\n  IEEE Transactions on Parallel and Distributed Systems, 34(2):611-622, 2023.\n\n* L. Dalcin and Y.-L. L. Fang,\n  *mpi4py: Status Update After 12 Years of Development*,\n  Computing in Science & Engineering, 23(4):47-54, 2021.\n\n* L. Dalcin, P. Kler, R. Paz, and A. Cosimo,\n  *Parallel Distributed Computing using Python*,\n  Advances in Water Resources, 34(9):1124-1139, 2011.\n\n* L. Dalcin, R. Paz, M. Storti, and J. D'Elia,\n  *MPI for Python: performance improvements and MPI-2 extensions*,\n  Journal of Parallel and Distributed Computing, 68(5):655-662, 2008.\n\n* L. Dalcin, R. Paz, and M. Storti,\n  *MPI for Python*,\n  Journal of Parallel and Distributed Computing, 65(9):1108-1115, 2005.",
      "word_count": 226
    }
  ]
}